<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Genetics Cell Division Simulator</title>
<style>
body { font-family: Arial, sans-serif; background: #f3f7fa; margin: 0; padding: 0;}
#container { width: 90%; margin: 0 auto; padding: 20px;}
.section { background: #fff; border-radius: 8px; margin-bottom: 20px; padding: 20px;}
h2 { margin-top: 0; color: #164a68;}
.chromosome { display: inline-block; margin: 0 10px; vertical-align: middle;}
.allele { width: 36px; height: 36px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-weight: bold;}
.S { background: #90ee90; }
.s { background: #f88379; }
.A { background: #9ec1cf; }
.a { background: #fff285; }
.cell { display: inline-block; margin: 0 8px;}
#simulation { display: flex; flex-direction: row; justify-content: space-around;}
.btn { padding: 8px 18px; border: none; border-radius: 6px; background: #528aad; color: #fff; font-weight: bold; cursor: pointer;}
#zygote-list { margin-top: 12px; }
.zygote { font-size: 1.1em; margin: 7px; display: inline-block; padding: 6px 9px; border-radius: 5px; background: #c9eaf3; }
</style>
</head>
<body>
<div id="container">
    <h1>Cell Division & Genetics Simulator</h1>
    <div class="section">
        <h2>Select Mode</h2>
        <button class="btn" onclick="startMitosis()">Mitosis</button>
        <button class="btn" onclick="startMeiosis()">Meiosis</button>
    </div>
    <div class="section" id="simulation"></div>
    <div class="section" id="fertilization-panel" style="display:none;">
        <h2>Random Fertilization (Meiosis Only)</h2>
        <button class="btn" onclick="simulateFertilization()">Simulate 10 Zygotes</button>
        <div id="zygote-list"></div>
    </div>
    <div class="section">
        <h2>Mendelian Genetics Explained</h2>
        <ul>
            <li><strong>Law of Segregation:</strong> Each gamete gets only one allele for each gene during meiosis.</li>
            <li><strong>Law of Independent Assortment:</strong> Alleles for different genes sort independently into gametes, creating genetic diversity.</li>
        </ul>
    </div>
</div>
<script>
const parents = {
    sickle: ['S','s'], // Parent is heterozygous for sickle cell
    regular: ['A','a'] // Parent is heterozygous for neutral trait
};

function renderChromosome(alleles) {
    return `<div class="chromosome">
      <div class="allele ${alleles[0]}">${alleles[0]}</div>
      &nbsp;-&nbsp;
      <div class="allele ${alleles[1]}">${alleles[1]}</div>
    </div>`;
}

function startMitosis() {
    document.getElementById('fertilization-panel').style.display = 'none';
    let output = `<h2>Mitosis - Somatic Cell Division</h2>
        <p>Parent cell:</p>
        ${renderChromosome(parents.sickle)} ${renderChromosome(parents.regular)}
        <p>DNA replicates; chromosomes align and split:</p>
        <div class="cell">
            ${renderChromosome(['S','s'])} ${renderChromosome(['A','a'])}
        </div>
        <span>&#10141;</span>
        <div class="cell">
            ${renderChromosome(['S','s'])} ${renderChromosome(['A','a'])}
        </div>
        <p>Each daughter cell receives <strong>both</strong> alleles for each gene (mitosis does not reduce chromosome number).</p>`;
    document.getElementById('simulation').innerHTML = output;
}

function startMeiosis() {
    document.getElementById('fertilization-panel').style.display = '';
    let meiosisGametogenesis = ['S','A'], ['S','a'], ['s','A'], ['s','a'];
    let output = `<h2>Meiosis - Gamete Formation</h2>
        <p>Parent cell:</p>
        ${renderChromosome(parents.sickle)} ${renderChromosome(parents.regular)}
        <p>After meiosis (Law of Segregation/Independent Assortment): Possible gametes:</p>
        <div class="cell"><div class="allele S">S</div><div class="allele A">A</div></div>
        <div class="cell"><div class="allele S">S</div><div class="allele a">a</div></div>
        <div class="cell"><div class="allele s">s</div><div class="allele A">A</div></div>
        <div class="cell"><div class="allele s">s</div><div class="allele a">a</div></div>
        <p>Each gamete has only <strong>one allele per gene</strong>, and combinations are random (Law of Segregation & Independent Assortment).</p>`;
    document.getElementById('simulation').innerHTML = output;
    document.getElementById('zygote-list').innerHTML = '';
}

function simulateFertilization() {
    // Randomly generate 10 zygotes by pairing sperm and egg from all possible gametes
    let gametes = [
        { sickle:'S', regular:'A' },
        { sickle:'S', regular:'a' },
        { sickle:'s', regular:'A' },
        { sickle:'s', regular:'a' }
    ];
    let zygotesHTML = '';
    for(let i=0; i<10; i++) {
        let sperm = gametes[Math.floor(Math.random()*4)];
        let egg = gametes[Math.floor(Math.random()*4)];
        zygotesHTML += `<div class="zygote">
            Sickle: ${sperm.sickle}${egg.sickle}
            , Neutral: ${sperm.regular}${egg.regular}
        </div>`;
    }
    document.getElementById('zygote-list').innerHTML = zygotesHTML;
}
</script>
</body>
</html>
